"use strict";(self.webpackChunkNGX_YOUI=self.webpackChunkNGX_YOUI||[]).push([[692],{1692:(be,T,c)=>{c.r(T),c.d(T,{AuthModule:()=>_e});var v=c(9808),u=c(4182),k=c(2753),m=c(2268);function w(i,n,t,r,o,s,l){try{var f=i[s](l),h=f.value}catch(ve){return void t(ve)}f.done?n(h):Promise.resolve(h).then(r,o)}function g(i){return function(){var n=this,t=arguments;return new Promise(function(r,o){var s=i.apply(n,t);function l(h){w(s,r,o,l,f,"next",h)}function f(h){w(s,r,o,l,f,"throw",h)}l(void 0)})}}var a=c(814),b=c(2986),e=c(6435);function D(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.body," ")}}function N(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"youi-spinner",1),e._UZ(2,"div",2),e.YNc(3,D,2,1,"ng-template",null,3,e.W1O),e.qZA(),e.BQk()),2&i){const t=e.oxw();let r,o;e.xp6(1),e.Q6J("isLoading",!0)("svgCSSClass","loading-dialog-content "+(null!==(r=null==t.styles?null:t.styles.loadingCSSClass)&&void 0!==r?r:""))("textTemplateCSSClass","loading-dialog-content"+(null!==(o=null==t.styles?null:t.styles.loadingCSSClass)&&void 0!==o?o:""))}}let _=(()=>{class i extends a.Ms{constructor(t){super(t),this.dialogData=t,this.styles={containerCSSClass:"",loadingCSSClass:""},this.body="Loading"}get bindContainerCSS(){var t;return null!==(t="youi-dialog-container loading-dialog-container "+this.styles.containerCSSClass)&&void 0!==t?t:""}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Kt))},i.\u0275cmp=e.Xpm({type:i,selectors:[["youi-loading-dialog"]],hostVars:2,hostBindings:function(t,r){2&t&&e.Tol(r.bindContainerCSS)},inputs:{styles:"styles",body:"body"},features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["backdropCSSClass","loading-dialog-spinner-backdrop",3,"isLoading","svgCSSClass","textTemplateCSSClass"],[1,"loading-dialog-body"],["textTemplate",""]],template:function(t,r){1&t&&e.YNc(0,N,5,3,"ng-container",0),2&t&&e.Q6J("ngIf",r.visible)},directives:[v.O5,a.OR],encapsulation:2,changeDetection:0}),i})();var A=c(1086),C=c(1737),F=c(353),I=c(3489),L=c(8896);class d{constructor(n,t,r){this.kind=n,this.value=t,this.error=r,this.hasValue="N"===n}observe(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}do(n,t,r){switch(this.kind){case"N":return n&&n(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(n,t,r){return n&&"function"==typeof n.next?this.observe(n):this.do(n,t,r)}toObservable(){switch(this.kind){case"N":return(0,A.of)(this.value);case"E":return(0,C._)(this.error);case"C":return(0,L.c)()}throw new Error("unexpected notification kind value")}static createNext(n){return void 0!==n?new d("N",n):d.undefinedValueNotification}static createError(n){return new d("E",void 0,n)}static createComplete(){return d.completeNotification}}d.completeNotification=new d("C"),d.undefinedValueNotification=new d("N",void 0);class J{constructor(n,t){this.delay=n,this.scheduler=t}call(n,t){return t.subscribe(new U(n,this.delay,this.scheduler))}}class U extends I.L{constructor(n,t,r){super(n),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const t=n.source,r=t.queue,o=n.scheduler,s=n.destination;for(;r.length>0&&r[0].time-o.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const l=Math.max(0,r[0].time-o.now());this.schedule(n,l)}else this.unsubscribe(),t.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(U.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const t=this.scheduler,r=new R(t.now()+this.delay,n);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(n){this.scheduleNotification(d.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(d.createComplete()),this.unsubscribe()}}class R{constructor(n,t){this.time=n,this.notification=t}}var S=c(7221),Y=c(4850);let q=(()=>{class i{constructor(){}getUsers(){return(0,A.of)([{userId:"1",username:"johnbrown",name:"John Brown",roles:0,status:0},{userId:"2",username:"jimgreen",name:"Jim Green",roles:1,status:1},{userId:"3",username:"user",name:"Joe Black",roles:1,status:2}]).pipe(function E(i,n=F.P){const r=function M(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-n.now():Math.abs(i);return o=>o.lift(new J(r,n))}(1e3),(0,S.K)(t=>(0,C._)(t)))}getUser(t){return this.getUsers().pipe((0,Y.U)(r=>r.find(o=>o.userId===t)),(0,S.K)(r=>(0,C._)(r)))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Z=c(2382);let V=(()=>{class i extends((0,Z.k)()){constructor(t){super(),this.forumBuilder=t,this.mode="read"}ngOnInit(){this.settingForm()}settingForm(){const t={};for(let r in this.formSetting){let o,s;this.formSetting[r].syncValidators&&(o=this.formSetting[r].syncValidators.filter(l=>l.mode.includes(this.mode)).map(l=>l.validatorFn)),this.formSetting[r].asyncValidators&&(s=this.formSetting[r].asyncValidators.filter(l=>l.mode.includes(this.mode)).map(l=>l.validatorFn)),t[r]=[this.formSetting[r].defaultValue,o,s]}this.form=this.forumBuilder.group(t)}matchCrudMode(t){return t.indexOf(this.mode)>=0}fieldHasError(t){const r=!this.form.controls[t].valid&&this.form.controls[t].touched;return{hasError:r,errors:r?this.form.controls[t].errors:{}}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{mode:"mode"},features:[e.qOj],decls:0,vars:0,template:function(t,r){},encapsulation:2}),i})();function x(i,n=!0){return t=>{if(!t.root.get(i))return null;const r=t.root.get(i);return!1===n?(r.updateValueAndValidity(),null):r.errors&&!r.errors.matching?null:t.value!==r.value?{valueMatch:!0}:null}}function Q(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Required "),e.qZA())}function H(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Required "),e.qZA())}const p=function(){return["create","edit"]};function B(i,n){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"label",3),e._uU(3,"Password:"),e.qZA()(),e.TgZ(4,"div",4)(5,"div",12),e._UZ(6,"input",13),e.TgZ(7,"button",14)(8,"span"),e._uU(9,"Generate"),e.qZA()()(),e.YNc(10,H,2,0,"div",6),e.qZA()()),2&i){const t=e.oxw();e.xp6(6),e.ekj("field-disabled",!t.matchCrudMode(e.DdM(6,p))||null)("error-input",t.fieldHasError("password").hasError),e.uIk("disabled",!t.matchCrudMode(e.DdM(7,p))||null),e.xp6(4),e.Q6J("ngIf",t.fieldHasError("password").errors.required)}}function j(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Required "),e.qZA())}function O(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Must same as password "),e.qZA())}function G(i,n){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"label",3),e._uU(3,"Confirm Password\uff1a"),e.qZA()(),e.TgZ(4,"div",4),e._UZ(5,"input",15),e.YNc(6,j,2,0,"div",6),e.YNc(7,O,2,0,"div",6),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.ekj("field-disabled",!t.matchCrudMode(e.DdM(7,p))||null)("error-input",t.fieldHasError("confirmPassword").hasError),e.uIk("disabled",!t.matchCrudMode(e.DdM(8,p))||null),e.xp6(1),e.Q6J("ngIf",t.fieldHasError("confirmPassword").errors.required),e.xp6(1),e.Q6J("ngIf",t.fieldHasError("confirmPassword").errors.valueMatch)}}function K(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Required "),e.qZA())}function X(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Required "),e.qZA())}function z(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Format invalid "),e.qZA())}function $(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Required "),e.qZA())}const P=function(){return["create"]};let y=(()=>{class i extends V{constructor(t){super(t),this.forumBuilder=t,this.options={roles:[{label:"Manger",value:0},{label:"User",value:1}]},this.formSetting={userId:{defaultValue:""},username:{defaultValue:"",syncValidators:[{validatorFn:u.kI.required,mode:["create"]}]},password:{defaultValue:"",syncValidators:[{validatorFn:u.kI.required,mode:["create"]},{validatorFn:x("confirmPassword",!1),mode:["create","edit"]}]},confirmPassword:{defaultValue:"",syncValidators:[{validatorFn:u.kI.required,mode:["create"]},{validatorFn:x("password"),mode:["create","edit"]}]},name:{defaultValue:"",syncValidators:[{validatorFn:u.kI.required,mode:["create","edit"]}]},email:{defaultValue:"",syncValidators:[{validatorFn:u.kI.required,mode:["create","edit"]},{validatorFn:u.kI.email,mode:["create","edit"]}]},roles:{defaultValue:"",syncValidators:[{validatorFn:u.kI.required,mode:["create","edit"]}]}}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["user_crud_wrapper"]],features:[e.qOj],decls:32,vars:36,consts:[[1,"card","p-5","grid","gap-y-5",3,"formGroup"],[1,"row","gap-y-2"],[1,"col-xs-12","sm:basis-[120px]"],["for",""],[1,"col-xs-12","col-sm"],["formControlName","username","type","text",1,"field-input"],["class","error-msg",4,"ngIf"],["class","row gap-y-2",4,"ngIf"],["type","text","formControlName","name",1,"field-input"],["type","text","formControlName","email",1,"field-input"],["formControlName","roles",3,"options","disableControl"],[1,"error-msg"],[1,"flex","gap-2","items-center"],["formControlName","password","type","password",1,"field-input"],[1,"btn","btn-gray"],["formControlName","confirmPassword","type","password",1,"field-input"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Username\uff1a"),e.qZA()(),e.TgZ(5,"div",4),e._UZ(6,"input",5),e.YNc(7,Q,2,0,"div",6),e.qZA()(),e.YNc(8,B,11,8,"div",7),e.YNc(9,G,8,9,"div",7),e.TgZ(10,"div",1)(11,"div",2)(12,"label",3),e._uU(13,"Name\uff1a"),e.qZA()(),e.TgZ(14,"div",4),e._UZ(15,"input",8),e.YNc(16,K,2,0,"div",6),e.qZA()(),e.TgZ(17,"div",1)(18,"div",2)(19,"label",3),e._uU(20,"Email\uff1a"),e.qZA()(),e.TgZ(21,"div",4),e._UZ(22,"input",9),e.YNc(23,X,2,0,"div",6),e.YNc(24,z,2,0,"div",6),e.qZA()(),e.TgZ(25,"div",1)(26,"div",2)(27,"label",3),e._uU(28,"Role\uff1a"),e.qZA()(),e.TgZ(29,"div",4),e._UZ(30,"youi-select",10),e.YNc(31,$,2,0,"div",6),e.qZA()()()),2&t&&(e.Q6J("formGroup",r.form),e.xp6(6),e.ekj("error-input",r.fieldHasError("username").hasError)("field-disabled",!r.matchCrudMode(e.DdM(27,P))||null),e.uIk("disabled",!r.matchCrudMode(e.DdM(28,P))||null),e.xp6(1),e.Q6J("ngIf",r.fieldHasError("username").errors.required),e.xp6(1),e.Q6J("ngIf",r.matchCrudMode(e.DdM(29,p))),e.xp6(1),e.Q6J("ngIf",r.matchCrudMode(e.DdM(30,p))),e.xp6(6),e.ekj("field-disabled",!r.matchCrudMode(e.DdM(31,p))||null)("error-input",r.fieldHasError("name").hasError),e.uIk("disabled",!r.matchCrudMode(e.DdM(32,p))||null),e.xp6(1),e.Q6J("ngIf",r.fieldHasError("name").errors.required),e.xp6(6),e.ekj("field-disabled",!r.matchCrudMode(e.DdM(33,p))||null)("error-input",r.fieldHasError("email").hasError),e.uIk("disabled",!r.matchCrudMode(e.DdM(34,p))||null),e.xp6(1),e.Q6J("ngIf",r.fieldHasError("email").errors.required),e.xp6(1),e.Q6J("ngIf",r.fieldHasError("email").errors.email),e.xp6(6),e.ekj("error-input",r.fieldHasError("roles").hasError),e.Q6J("options",r.options.roles)("disableControl",!r.matchCrudMode(e.DdM(35,p))),e.xp6(1),e.Q6J("ngIf",r.fieldHasError("roles").errors.required))},directives:[u.JL,u.sg,u.Fj,u.JJ,u.u,v.O5,a.Hr],styles:[":[_nghost-%COMP%]{display:block}"]}),i})();const W=["crud_wrapper"];let ee=(()=>{class i{constructor(t,r,o,s,l){this.router=t,this.route=r,this.userService=o,this.dialogService=s,this.notificationService=l}ngAfterViewInit(){this.getData()}getData(){const t=this.dialogService.open(_,null,null,{backdropCSSClass:"bg-black/70",closeAfterClick:!1}),r=this.route.snapshot.paramMap.get("id");this.userService.getUser(r).toPromise().then(o=>{var s;for(let l in o)this.crud_wrapper.form.controls[l]&&this.crud_wrapper.form.controls[l].setValue(null!==(s=o[l])&&void 0!==s?s:"");t.handleClose()})}getFormValue(t){return this.crud_wrapper.form.get(t).value}delete(){var t=this;return g(function*(){if(yield t.dialogService.confirm({title:"Confirm Delete",body:`Do you want to delete user: ${t.getFormValue("username")} ?`}).closeEmitter.pipe((0,b.q)(1)).toPromise()){const s=t.dialogService.open(_,{styles:{loadingCSSClass:"fill-white stroke-white text-white"}},null,{hasBackdrop:!0,backdropCSSClass:"bg-black/70"});setTimeout(()=>{s.handleClose(),t.notificationService.success(a.PJ.topRight,{title:"Success",content:`Delete user ${t.getFormValue("username")} !`}),t.router.navigate(["/auth/user/list"])},2e3)}})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(q),e.Y36(a.xA),e.Y36(a.gq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-read"]],viewQuery:function(t,r){if(1&t&&e.Gf(W,5),2&t){let o;e.iGM(o=e.CRH())&&(r.crud_wrapper=o.first)}},decls:19,vars:0,consts:[[1,"page-wrapper"],[1,"card","p-2","flex","gap-x-2"],[1,"btn","btn-green",3,"click"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"card","breadcrumb"],["mode","read"],["crud_wrapper",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return r.router.navigate(["/auth/user/edit",r.getFormValue("userId")])}),e.TgZ(3,"i",3),e._uU(4,"edit"),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Edit"),e.qZA()(),e.TgZ(7,"button",4),e.NdJ("click",function(){return r.delete()}),e.TgZ(8,"i",3),e._uU(9,"delete"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Delete"),e.qZA()()(),e.TgZ(12,"youi-breadcrumb",5)(13,"youi-breadcrumb-item"),e._uU(14," Auth "),e.qZA(),e.TgZ(15,"youi-breadcrumb-item"),e._uU(16," Browse User "),e.qZA()(),e._UZ(17,"user_crud_wrapper",6,7),e.qZA())},directives:[a.LI,a.UN,y],styles:[""]}),i})();const te=["crud_wrapper"];let re=(()=>{class i{constructor(t){this.notificationService=t}ngOnInit(){}submitForm(){this.crud_wrapper.form.markAllAsTouched(),!0===this.crud_wrapper.form.valid?this.notificationService.success(a.PJ.topRight,{title:"Success !",content:"Finish edit user !"}):this.notificationService.error(a.PJ.topRight,{title:"Failed !",content:"Form validation error !"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.gq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-create"]],viewQuery:function(t,r){if(1&t&&e.Gf(te,5),2&t){let o;e.iGM(o=e.CRH())&&(r.crud_wrapper=o.first)}},decls:18,vars:0,consts:[[1,"page-wrapper"],[1,"card","breadcrumb"],["mode","create"],["crud_wrapper",""],[1,"card","p-5"],[1,"row","gap-y-2"],[1,"col-xs-12","col-sm-6"],[1,"btn","btn-block","btn-blue",3,"click"],["routerLink","../list",1,"btn","btn-block","btn-gray"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"youi-breadcrumb",1)(2,"youi-breadcrumb-item"),e._uU(3," Auth "),e.qZA(),e.TgZ(4,"youi-breadcrumb-item"),e._uU(5," Add User "),e.qZA()(),e._UZ(6,"user_crud_wrapper",2,3),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7),e.NdJ("click",function(){return r.submitForm()}),e.TgZ(12,"span"),e._uU(13,"Submit"),e.qZA()()(),e.TgZ(14,"div",6)(15,"button",8)(16,"span"),e._uU(17,"Back"),e.qZA()()()()()())},directives:[a.LI,a.UN,y,m.rH],styles:[""]}),i})();const ne=["crud_wrapper"];let ie=(()=>{class i{constructor(t){this.notificationService=t}ngOnInit(){}submitForm(){this.crud_wrapper.form.markAllAsTouched(),!0===this.crud_wrapper.form.valid?this.notificationService.success(a.PJ.topRight,{title:"Success !",content:"Finish edit user !"}):this.notificationService.error(a.PJ.topRight,{title:"Failed !",content:"Form validation error !"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.gq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user_edit"]],viewQuery:function(t,r){if(1&t&&e.Gf(ne,5),2&t){let o;e.iGM(o=e.CRH())&&(r.crud_wrapper=o.first)}},decls:18,vars:0,consts:[[1,"page-wrapper"],[1,"card","breadcrumb"],["mode","edit"],["crud_wrapper",""],[1,"card","p-5"],[1,"row","gap-y-2"],[1,"col-xs-12","col-sm-6"],[1,"btn","btn-block","btn-green",3,"click"],["routerLink","../../list",1,"btn","btn-block","btn-gray"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"youi-breadcrumb",1)(2,"youi-breadcrumb-item"),e._uU(3," Auth "),e.qZA(),e.TgZ(4,"youi-breadcrumb-item"),e._uU(5," Edit User "),e.qZA()(),e._UZ(6,"user_crud_wrapper",2,3),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7),e.NdJ("click",function(){return r.submitForm()}),e.TgZ(12,"span"),e._uU(13,"Save"),e.qZA()()(),e.TgZ(14,"div",6)(15,"button",8)(16,"span"),e._uU(17,"Back"),e.qZA()()()()()())},directives:[a.LI,a.UN,y,m.rH],styles:[""]}),i})();var oe=c(537),se=c(2198),ae=c(7625);const ce=["class","component"];function de(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Loading "),e.qZA())}function pe(i,n){if(1&i&&e._uU(0),2&i){const t=n.$implicit,r=e.oxw();e.hij(" ",r.getOptionText("status",t)," ")}}function me(i,n){if(1&i&&e._uU(0),2&i){const t=n.$implicit,r=e.oxw();e.hij(" ",r.getOptionText("roles",t)," ")}}function ge(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){const s=e.CHM(t).rowData;return e.oxw().router.navigate(["auth/user/read",s.userId])}),e.TgZ(2,"i",16),e._uU(3,"visibility"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Browse"),e.qZA()(),e.TgZ(6,"button",31),e.NdJ("click",function(){const s=e.CHM(t).rowData;return e.oxw().router.navigate(["auth/user/edit",s.userId])}),e.TgZ(7,"i",16),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit"),e.qZA()(),e.TgZ(11,"button",19),e.NdJ("click",function(){const s=e.CHM(t).rowData;return e.oxw().deleteUser(s)}),e.TgZ(12,"i",16),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Delete"),e.qZA()()()}}const fe=[{path:"user",children:[{path:"list",component:(()=>{class i extends(function ue(i=class{}){return class extends(function le(i=class{}){return class extends((0,Z.k)(i)){constructor(n,t){super(),this.router=n,this.route=t,this.pagination={nowPage:1,rowPerPage:10,totalRowsCount:0}}observePaginationRoute(){this.route.queryParams.pipe((0,se.h)(n=>n.page||n.rowPerPage),(0,ae.R)(this.destoryed$)).subscribe(n=>{this.pagination.nowPage=n.page?Number.parseInt(n.page):this.pagination.nowPage,this.pagination.rowPerPage=n.rowPerPage?Number.parseInt(n.rowPerPage):this.pagination.rowPerPage,this.searchData()})}onPageChange(n,t){const r=this.router.parseUrl(this.router.url).root.children.primary.segments.join("/");this.router.navigate([`/${r}`],{queryParams:{page:null!=n?n:this.pagination.nowPage,rowPerPage:t}})}searchData(){}}}((0,Z.k)(i))){ngOnInit(){super.ngOnInit(),this.searchFormInitValue=this.searchForm.value,!this.route.snapshot.queryParams.page&&!this.route.snapshot.queryParams.rowPerPage&&this.searchData(),this.observePaginationRoute()}searchData(){return g(function*(){})()}resetSearch(){var n=this;return g(function*(){n.searchForm.reset(n.searchFormInitValue),n.searchData()})()}submitForm(){var n=this;return g(function*(){n.searchData()})()}}}()){constructor(t,r,o,s,l,f){super(t,r),this.router=t,this.route=r,this.userService=o,this.formBuilder=s,this.dialogService=l,this.notificationService=f,this.table={columns:[{name:"username",label:"Username"},{name:"name",label:"Show Name"},{name:"roles",label:"Role"},{name:"status",label:"Status"},{name:"actions",label:"Action"}],tableData:[],selectedList:new Set},this.options={roles:[{label:"All",value:""},{label:"Manger",value:0},{label:"User",value:1}],status:[{label:"All",value:""},{label:"Inactived",value:0},{label:"Actived",value:1},{label:"Disabled",value:2}]},this.searchForm=this.formBuilder.group({username:[""],name:[""],role:[""],status:[""]}),this.isLoading=!1}searchData(){var t=this;return g(function*(){return t.table.tableData=[],t.isLoading=!0,t.userService.getUsers().pipe((0,oe.x)(()=>{t.isLoading=!1})).toPromise().then(r=>(t.table.tableData=r,t.pagination.totalRowsCount=t.table.tableData.length,Promise.resolve())).catch(r=>Promise.reject(r))})()}getOptionText(t,r){return this.options[t].find(o=>o.value===r).label}selectedChange(t){this.table.selectedList=t.allSelectedData,console.log(this.table.selectedList)}deleteBatch(){var t=this;return g(function*(){if(yield t.dialogService.confirm({title:"Confirm Delete",body:`Do you want to delete ${t.table.selectedList.size} users ?`}).closeEmitter.pipe((0,b.q)(1)).toPromise()){const s=t.dialogService.open(_,null,null,{backdropCSSClass:"bg-black/70",closeAfterClick:!1});setTimeout(()=>{s.handleClose(),t.notificationService.success(a.PJ.topRight,{title:"Success",content:`Delete ${t.table.selectedList.size} users !`})},2e3)}})()}deleteUser(t){var r=this;return g(function*(){if(yield r.dialogService.confirm({title:"Confirm Delete",body:`Do you want to delete user: ${t.username} ?`}).closeEmitter.pipe((0,b.q)(1)).toPromise()){const l=r.dialogService.open(_,null,null,{backdropCSSClass:"bg-black/70",closeAfterClick:!1});setTimeout(()=>{l.handleClose(),r.notificationService.success(a.PJ.topRight,{title:"Success",content:`Delete user ${t.username} !`})},2e3)}})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(q),e.Y36(u.qu),e.Y36(a.xA),e.Y36(a.gq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-list",8,"component"]],features:[e.qOj],attrs:ce,decls:64,vars:12,consts:[[1,"page-wrapper"],[1,"card","breadcrumb"],[1,"card","p-4"],[1,"card-title"],[3,"formGroup","ngSubmit"],[1,"row","gap-y-4"],[1,"col-xs-12","col-sm-6"],["for","username",1,"label"],["formControlName","username","type","text",1,"field-input"],["for","name",1,"label"],["formControlName","name","type","text",1,"field-input"],["for","role",1,"label"],["formControlName","role",3,"options"],["for","status",1,"label"],["formControlName","status",3,"options"],["type","submit","value","Submit",1,"btn","btn-blue","btn-block"],[1,"material-icons-outlined"],[1,"btn","btn-gray","btn-outline","btn-block",3,"click"],[1,"action","gap-x-2"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-blue",3,"click"],[3,"isLoading"],["textTemplate",""],[1,"overflow-x-auto"],["tableCSSClass","user-table","selectedMode","checkbox",3,"tableData","columns","selectedChange"],["youi-datatable-template","body-status"],["youi-datatable-template","body-roles"],["youi-datatable-template","body-actions"],[1,"justify-center",3,"currentPage","rowPerPage","totalRowsCount","maxDsiplayPages","showRowPerPageSelect","currentPageChange","rowPerPageChange"],[1,"action-column"],[1,"btn","btn-cyan",3,"click"],[1,"btn","btn-green",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"youi-breadcrumb",1)(2,"youi-breadcrumb-item"),e._uU(3,"Auth"),e.qZA(),e.TgZ(4,"youi-breadcrumb-item"),e._uU(5,"User List"),e.qZA()(),e.TgZ(6,"div",2)(7,"div",3)(8,"span"),e._uU(9,"Search Box"),e.qZA()(),e.TgZ(10,"form",4),e.NdJ("ngSubmit",function(){return r.submitForm()}),e.TgZ(11,"div",5)(12,"div",6)(13,"label",7),e._uU(14,"Username"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"div",6)(17,"label",9),e._uU(18,"Show Name"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",6)(21,"label",11),e._uU(22,"Role"),e.qZA(),e._UZ(23,"youi-select",12),e.qZA(),e.TgZ(24,"div",6)(25,"label",13),e._uU(26,"Status"),e.qZA(),e._UZ(27,"youi-select",14),e.qZA(),e.TgZ(28,"div",6)(29,"button",15)(30,"i",16),e._uU(31,"search"),e.qZA(),e.TgZ(32,"span"),e._uU(33,"Search"),e.qZA()()(),e.TgZ(34,"div",6)(35,"button",17),e.NdJ("click",function(){return r.resetSearch()}),e.TgZ(36,"i",16),e._uU(37,"refresh"),e.qZA(),e.TgZ(38,"span"),e._uU(39,"Reset"),e.qZA()()()()()(),e.TgZ(40,"div",2)(41,"div",3)(42,"span"),e._uU(43,"User List"),e.qZA(),e.TgZ(44,"div",18)(45,"button",19),e.NdJ("click",function(){return r.deleteBatch()}),e.TgZ(46,"i",16),e._uU(47,"delete"),e.qZA(),e.TgZ(48,"span"),e._uU(49,"Batch Delete"),e.qZA()(),e.TgZ(50,"button",20),e.NdJ("click",function(){return r.router.navigate(["auth/user/create"])}),e.TgZ(51,"i",16),e._uU(52,"add"),e.qZA(),e.TgZ(53,"span"),e._uU(54,"Add User"),e.qZA()()()(),e.TgZ(55,"youi-spinner",21),e.YNc(56,de,2,0,"ng-template",null,22,e.W1O),e.TgZ(58,"div",23)(59,"youi-datatable",24),e.NdJ("selectedChange",function(s){return r.selectedChange(s)}),e.YNc(60,pe,1,1,"ng-template",25),e.YNc(61,me,1,1,"ng-template",26),e.YNc(62,ge,16,0,"ng-template",27),e.qZA(),e.TgZ(63,"youi-pagination",28),e.NdJ("currentPageChange",function(s){return r.onPageChange(s)})("rowPerPageChange",function(s){return r.onPageChange(null,s)}),e.qZA()()()()()),2&t&&(e.xp6(10),e.Q6J("formGroup",r.searchForm),e.xp6(13),e.Q6J("options",r.options.roles),e.xp6(4),e.Q6J("options",r.options.status),e.xp6(18),e.uIk("disabled",r.table.selectedList.size<=0||null),e.xp6(10),e.Q6J("isLoading",r.isLoading),e.xp6(4),e.Q6J("tableData",r.table.tableData)("columns",r.table.columns),e.xp6(4),e.Q6J("currentPage",r.pagination.nowPage)("rowPerPage",r.pagination.rowPerPage)("totalRowsCount",r.pagination.totalRowsCount)("maxDsiplayPages",6)("showRowPerPageSelect",!0))},directives:[a.LI,a.UN,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,a.Hr,a.OR,a.nE,a.t9,a.Qt],styles:[".user-table .youi-datatable-tbody-tr-selected{background:#ECEFF1}"]}),i})()},{path:"create",component:re},{path:"edit/:id",component:ie},{path:"read/:id",component:ee}]}];let he=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.Bz.forChild(fe)],m.Bz]}),i})(),_e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[v.ez,he,u.u5,u.UX,k.m]]}),i})()}}]);